var e,t;e=this,t=function(e){"use strict";var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=new(function(){function e(n){t(this,e),this.args=n,this.instance="",this.executing=!1}return n(e,[{key:"_getType",value:function(e){return Object.prototype.toString.call(e).slice(8,-1)}},{key:"start",value:function(){var t=this;if(!this.instance){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];this.instance=new e(r);window.location.href,r[0];var o=r[1];r.slice(2);window.addEventListener("hashchange",function(){t.instance&&t.instance.updateStore()}),window.addEventListener("popstate",function(){t.instance&&t.instance.updateStore()}),o.registerModule("_storeManage_",{namespaced:!0,state:{version:"0.0.1",MOUNTED:""},mutations:{MOUNTED:function(e,t){e.MOUNTED=t}}})}return this.instance}},{key:"updateStore",value:function(e){var t=this;if(!this.executing){try{if(!(e=e||window.location.href))throw""}catch(e){throw new Error("非浏览器环境时,需要提供参数: 匹配对象<String>, 如url等")}this.executing=!0;var n,r=(n=this.args,Array.isArray(n)?n:Array.from(n)),i=r[0],o=r[1],a=(r.slice(2),[]),s=[],u=[];i.forEach(function(n){var r=void 0;if("RegExp"===t._getType(n.rule))r=n.rule.test(e);else{if("Function"!==t._getType(n.rule))throw new Error("Expected the `rule` to be a function or regExp.");r=n.rule.apply(n,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.args)))}r?a.push(n):s.push(n)}),a.forEach(function(e){var t=e.name,n=e.module;if(!t||!n)throw new Error("Missing `name` or `module` for rules");!1!==n.namespaced&&(n.namespaced=!0),void 0===o.state[t]&&o.registerModule(t,n),u.push(t)}),setTimeout(function(){s.forEach(function(e){var t=e.name;o.state[t]&&o.unregisterModule(t)}),o.commit("_storeManage_/MOUNTED","_"+u.join("_")+"_"),t.executing=!1},100)}}}]),e}());e.default=r,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e.store=e.store||{},e.store.manager={}));
//# sourceMappingURL=store.manager.umd.js.map
